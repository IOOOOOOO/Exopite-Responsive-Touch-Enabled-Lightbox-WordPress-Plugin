jQuery(document).ready(function(a){function t(){a(f).find(g).each(function(){a(this).append('<div class="cover"></div>')})}function u(b){var c="",d=a(b).closest("a").find("div.lightbox35-lightbox-caption").html();if("undefined"!=typeof d&&d!==!1&&""!==d&&s.div){var f=/\[url="((?:ftp|https?):\/\/.*?)"(.*?)\](.*?)\[\/url\]/i;c='<div class="'+e+'">'+d.replace(f,'<a href="$1"$2>$3</a>')+"</div>"}else"undefined"!=typeof attrTitle&&attrTitle!==!1&&""!==attrTitle&&s.title&&(c='<div class="'+e+'">'+a(b).attr("title")+"</div>");return c}function v(){var a='<div class="control-row"><div class="slide-controls">';return m||(a+='<span class="lightbox35-open"><i class="fa fa-external-link-square" aria-hidden="true"></i>'+q+"</span>"),n||(a+='<span class="lightbox35-download"><i class="fa fa-download" aria-hidden="true"></i>'+p+"</span>"),a+="</div></div>"}function w(c){h||(a("#lightbox35 .slide").hide(),b=c),x(),J(".slide-frame")}function x(){a("#lightbox35 .slide:eq("+b+")");a("#lightbox35 .slide:eq("+b+") .inner-div").length?C():D(),l||z(),!h&&c>1&&a("#lightbox35 .position").text(b+1+" / "+c)}function y(a){return null!=a.match(/\.(jpeg|jpg|gif|png)$/i)}function z(){a("#lightbox35 .thumbnail").removeClass("current");var c=a("#lightbox35 .thumbnail:eq("+b+")"),d=c.offset().left,e=a("#lightbox35 .thumbnails").offset().left,f=e-d;a("#lightbox35 .thumbnails").animate({"margin-left":f-25},300),c.addClass("current")}function A(a,b){return a<0?a=b-1:a>b-1&&(a=0),a}function B(c,d){var e=0;a("#wpadminbar").length&&(e+=a("#wpadminbar").height()),"img"==d?(a("#lightbox35 .control-row").show(),m&&n||(a("#lightbox35 .control-row").css("top",e),e+=a("#lightbox35 .control-row").height())):a("#lightbox35 .control-row").hide(),c.css("padding-top",e+10+"px"),a("#lightbox35 .slide:eq("+b+")").show()}function C(){var c=a("#lightbox35 .slide:eq("+b+") .inner-div"),d=a("#lightbox35 .slide:eq("+b+")"),e=a("#lightbox35 .slide:eq("+b+") .slide-frame");if(B(d,"nonimg"),a("#lightbox35 .slide:eq("+b+") .inner-div").css("max-height",d.height()-50+"px"),c.height()<e.height()){var f=(d.width()-a(e).outerWidth())/2,g=(d.height()-a(e).outerHeight())/2;a(e).css({left:f,top:g})}}function D(){var c=new Image;c.src=a("#lightbox35 .slide:eq("+b+") img").attr("src");var d=c.naturalWidth,e=c.naturalHeight;d<1||e<1?a(c).on("load",function(){d=c.naturalWidth,e=c.naturalHeight,E(c,d,e)}):E(c,d,e)}function E(c,d,e){var f=a("#lightbox35 .slide:eq("+b+")"),g=a("#lightbox35 .slide:eq("+b+") .slide-frame");B(f,"img");var h=a("#lightbox35 .nav-arrow.nav-arrow-left").height(),i=f.height()-h,j=f.width(),k=i;if(d<j&&e<k)j=d,k=e;else if(d>=e){var l=e*j/d;l<=k?k=l:j=d*k/e}else tmpx=d*k/e,tmpx<=j?j=tmpx:k=e*j/d;a(g).css({width:j,height:k});var m=(f.width()-a(g).outerWidth())/2,n=(i-a(g).outerHeight())/2;a(g).css({left:m,top:n}),a("#lightbox35 .slide:eq("+b+")").fadeIn()}function F(d){if(!(a("#lightbox35 .slide-frame").length<1||h||c<2)){var e,f=-100,g=150;if("next"==d?e=A(b+1,c):"prev"==d?(e=A(b-1,c),f-=2*f):(e=d,b>e&&(f-=2*f)),"fade"===r)a("#lightbox35 .slide:eq("+b+")").fadeOut(),a("#lightbox35 .slide:eq("+e+")").fadeIn(),b=e,x();else{var i=f-2*f;a("#lightbox35 .slide:eq("+b+")").stop().animate({opacity:"hide",left:f},g,function(){a(this).css({left:"0"}),a("#lightbox35 .slide:eq("+e+")").css({left:i+"px"}),a("#lightbox35 .slide:eq("+e+")").animate({opacity:"show",left:0},g),b=e,x()})}}}function G(b,d){return h||c<2?void(a("#lightbox35 .slide-frame").hasClass("cursor_default")||a("#lightbox35 .slide-frame").addClass("cursor_default")):void(b.pageX-d.offset().left<d.width()/2?(a("#lightbox35 .slide-frame").addClass("cursor_left"),a("#lightbox35 .slide-frame").removeClass("cursor_right")):b.pageX-d.offset().left>d.width()/2?(a("#lightbox35 .slide-frame").addClass("cursor_right"),a("#lightbox35 .slide-frame").removeClass("cursor_left")):(a("#lightbox35 .slide-frame").removeClass("cursor_right"),a("#lightbox35 .slide-frame").removeClass("cursor_left")))}function H(){h?a("#lightbox35").remove():(a("#lightbox35").hide(),o=!1)}var b,c,d=exopite_lightbox35_vars.main_container,e="lightbox35-caption-style-"+exopite_lightbox35_vars.lightbox35_style,f=d,g="a:not(.lightbox35-no-lightbox) img, .lightbox35-lightbox",h=!1,i=exopite_lightbox35_vars.plugin_url,j=1==exopite_lightbox35_vars.single_image_only,k=1==exopite_lightbox35_vars.hide_caption,l=1==exopite_lightbox35_vars.hide_thumbnails,m=1==exopite_lightbox35_vars.hide_open_in_new_window,n=1==exopite_lightbox35_vars.hide_download,o=!1,p=exopite_lightbox35_vars.lang_download,q=exopite_lightbox35_vars.lang_openInNewWindow,r=exopite_lightbox35_vars.animation,s={};s.div=!0,s.title=!0,j&&(h=!0),t(),a(f).find(g).click(function(d){function z(b,c){if(a(b).is("img")){var d=a(b).closest("a").attr("href"),g=(a(b).attr("title"),a(b).attr("alt"),k?"":u(b));a("#lightbox35").append(s+t+'<img src="'+d+'">'+g+x),l||a("#lightbox35 .thumbnails").append('<div class="thumbnail" style="background-image: url('+d+')"></div>')}else{var h='<div class="inner-div">'+a(b).html()+"</div>";a("#lightbox35").append(s+t+h+x);var i=a(b).css("background-color");"rgba(0, 0, 0, 0)"!==i&&"transparent"!==i||(i="#fff"),a("#lightbox35 .inner-div").css("background-color",i),l||a("#lightbox35 .thumbnails").append('<div class="thumbnail thumbnail-div">'+(c+1)+"</div>")}l&&a("#lightbox35 .slide").css("padding-bottom","22px")}if(a(this).is("img")){var e=a(this).closest("a").attr("href");if(!y(e))return}d.preventDefault(),o=!0,a(this).closest("a").hasClass("lightbox35-no-gallery")||a(this).hasClass("lightbox35-no-gallery")?(a("#lightbox35").length>0&&a("#lightbox35").remove(),j||(h=!0)):j||(h=!1);var i=a(f).find(g).not(".lightbox35-no-gallery").index(this);if(c=a(f).find(g).not(".lightbox35-no-gallery").length,l=!!(h||c<2||j),a("#lightbox35").length>0)a("#lightbox35").fadeIn(300);else{var p=m&&n?"":v(),q=h||c<2?"":'<span class="nav-left">&#10094;</span><span class="nav-right">&#10095;</span>',r='<div id="lightbox35" ><div class="position"></div>'+q+p+'<div class="thumbnails"></div></div>';a("body").append(r);var s='<div class="slide" style="display:none;">',t='<div class="slide-frame"><a class="close-thik"></a>',x="</div></div>";h?z(this,0):a(f).find(g).not(".lightbox35-no-gallery").each(function(b){a(this).closest("a").hasClass("lightbox35-no-gallery")&&!a(this).hasClass("lightbox35-no-gallery")||z(this,b)}),b=1==c?0:i}w(i)}),a(document.body).on("click","#lightbox35, #lightbox35 .close-thik",function(){H()}),a("body").on("click","#lightbox35 .slide-controls, #lightbox35 .slide-frame",function(b){a("#lightbox35").length<1||b.stopPropagation()}),a("body").on("click","#lightbox35 .nav-right, #lightbox35 .nav-left",function(b){b.stopPropagation(),F(a(this).hasClass("nav-left")?"prev":"next")}),a("body").on("click","#lightbox35 .thumbnail",function(c){if(!(a("#lightbox35").length<1)){c.stopPropagation();var d=a(".thumbnails").find(".thumbnail").index(this);b!=d&&(a("#lightbox35 .thumbnail").removeClass("current"),a(this).addClass("current"),F(d))}}),a("body").on("click","#lightbox35 .lightbox35-open, #lightbox35 .lightbox35-download",function(c){c.stopPropagation();var d="";a(this).hasClass("lightbox35-open")?(d=a('<a href="'+a("#lightbox35 .slide:eq("+b+") .slide-frame img").attr("src")+'">'),d.attr("target","_blank")):(d=a('<a href="'+i+"/download_image.php?image="+a("#lightbox35 .slide:eq("+b+") .slide-frame img").attr("src")+'">'),d.attr("target","_media")),window.open(d.attr("href"))}),a(window).resize(function(){o&&x()}),a("body").on("mousemove","#lightbox35 .slide-frame",function(b){o&&G(b,a(this))}),a(document.documentElement).keyup(function(b){27==b.keyCode&&H(),a("#lightbox35").length<1||h||!o||(37==b.keyCode?F("prev"):39==b.keyCode&&F("next"))});var I=!1;a("body").on("mouseenter","#lightbox35 .inner-div",function(){a("#lightbox35 .slide:eq("+b+") .inner-div").prop("scrollHeight")>a("#lightbox35 .slide:eq("+b+") .slide-frame").height()&&(I=!0)}).on("mouseleave","#lightbox35 .inner-div",function(){I=!1}),a(document.documentElement).on("DOMMouseScroll mousewheel",function(b){if(!(a("#lightbox35").length<1||I)&&o)return!h&&(b.preventDefault(),F(b.originalEvent.detail>0||b.originalEvent.wheelDelta<0?"next":"prev"),!1)});var J=function(b){o&&(a(b).swipe("destroy"),a(b).swipe({tap:function(b,c){if(1==b.which){var d=a(this);F(b.pageX-d.offset().left>d.width()/2?"next":"prev")}},swipeLeft:function(a,b,c,d,e){F("next")},swipeRight:function(a,b,c,d,e){F("prev")},threshold:10,excludedElements:"button, input, select, textarea"}))}});