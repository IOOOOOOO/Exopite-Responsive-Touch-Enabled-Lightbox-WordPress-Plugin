jQuery(document).ready(function(i){function t(i){return!!i.is("img")&&(!!h(i.closest("a").attr("href"))||void 0)}function e(e,o){if(t(i(e)))return o.index(e)}function o(e){var o=0;return e.each(function(e,l){t(i(l))&&o++}),o}function l(l){function r(t,e){if(i(t).is("img")){var o=i(t).closest("a").attr("href"),l=(i(t).attr("title"),i(t).attr("alt"),H?"":n(t)),a="";a=h(o)?o:i(t).attr("src"),i("#lightbox35").append(x+b+'<img src="'+a+'">'+l+u),I||i("#lightbox35 .thumbnails").append('<div class="thumbnail" style="background-image: url('+a+')"></div>')}else{var s='<div class="inner-div">'+i(t).html()+"</div>";i("#lightbox35").append(x+b+s+u);var r=i(t).css("background-color");"rgba(0, 0, 0, 0)"!==r&&"transparent"!==r||(r="#fff"),i("#lightbox35 .inner-div").css("background-color",r),I||i("#lightbox35 .thumbnails").append('<div class="thumbnail thumbnail-div">'+(e+1)+"</div>")}I&&i("#lightbox35 .slide").css("padding-bottom","22px")}O&&(C="."+z),$=!0,i(l).closest("a").hasClass("lightbox35-no-gallery")||i(l).hasClass("lightbox35-no-gallery")||O&&!i(l).hasClass(z)?(i("#lightbox35").length>0&&i("#lightbox35").remove(),E||(k=!0)):E||(k=!1);var d=i(q).find(C).not(".lightbox35-no-gallery").filter(function(e){return t(i(this))}),g=e(l,d);if(_=o(d),I=!!(k||_<2||E),i("#lightbox35").length>0)i("#lightbox35").fadeIn(300);else{var c=W&&P?"":a(),f='<div id="lightbox35" ><div class="position"></div>'+(k||_<2?"":'<span class="nav-left">&#10094;</span><span class="nav-right">&#10095;</span>')+c+'<div class="thumbnails"></div></div>';i("body").append(f);var x='<div class="slide" style="display:none;">',b='<div class="slide-frame"><a class="close-thik"></a>',u="</div></div>";k?r(l,0):i(q).find(C).not(".lightbox35-no-gallery").each(function(e){i(this).closest("a").hasClass("lightbox35-no-gallery")&&!i(this).hasClass("lightbox35-no-gallery")||t(i(this))&&r(this,e)}),m=1==_?0:g}s(g)}function n(t){var e="",o=i(t).closest("a").find("div.lightbox35-lightbox-caption").html();if(void 0!==o&&!1!==o&&""!==o&&M.div){var l=/\[url="((?:ftp|https?):\/\/.*?)"(.*?)\](.*?)\[\/url\]/i;e='<div class="'+y+'">'+o.replace(l,'<a href="$1"$2>$3</a>')+"</div>"}else"undefined"!=typeof attrTitle&&!1!==attrTitle&&""!==attrTitle&&M.title&&(e='<div class="'+y+'">'+i(t).attr("title")+"</div>");return e}function a(){var i='<div class="control-row"><div class="slide-controls">';return W||(i+='<span class="lightbox35-open"><i class="fa fa-external-link-square" aria-hidden="true"></i>'+T+"</span>"),P||(i+='<span class="lightbox35-download"><i class="fa fa-download" aria-hidden="true"></i>'+j+"</span>"),i+="</div></div>"}function s(t){k||(i("#lightbox35 .slide").hide(),m=t),r(),N(".slide-frame")}function r(){i("#lightbox35 .slide:eq("+m+")");i("#lightbox35 .slide:eq("+m+") .inner-div").length?f():x(),I||d(),!k&&_>1&&i("#lightbox35 .position").text(m+1+" / "+_)}function h(i){return null!=i.match(/\.(jpeg|jpg|gif|png)$/i)}function d(){i("#lightbox35 .thumbnail").removeClass("current");var t=i("#lightbox35 .thumbnail:eq("+m+")"),e=t.offset().left,o=i("#lightbox35 .thumbnails").offset().left-e;i("#lightbox35 .thumbnails").animate({"margin-left":o-25},300),t.addClass("current")}function g(i,t){return i<0?i=t-1:i>t-1&&(i=0),i}function c(t,e){var o=0;i("#wpadminbar").length&&(o+=i("#wpadminbar").height()),"img"==e?(i("#lightbox35 .control-row").show(),W&&P||(i("#lightbox35 .control-row").css("top",o),o+=i("#lightbox35 .control-row").height())):i("#lightbox35 .control-row").hide(),t.css("padding-top",o+10+"px"),i("#lightbox35 .slide:eq("+m+")").show()}function f(){var t=i("#lightbox35 .slide:eq("+m+") .inner-div"),e=i("#lightbox35 .slide:eq("+m+")"),o=i("#lightbox35 .slide:eq("+m+") .slide-frame");if(c(e,"nonimg"),i("#lightbox35 .slide:eq("+m+") .inner-div").css("max-height",e.height()-50+"px"),t.height()<o.height()){var l=(e.width()-i(o).outerWidth())/2,n=(e.height()-i(o).outerHeight())/2;i(o).css({left:l,top:n})}}function x(){var t=new Image;t.src=i("#lightbox35 .slide:eq("+m+") img").attr("src");var e=t.naturalWidth,o=t.naturalHeight;e<1||o<1?i(t).on("load",function(){e=t.naturalWidth,o=t.naturalHeight,b(t,e,o)}):b(t,e,o)}function b(t,e,o){var l=i("#lightbox35 .slide:eq("+m+")"),n=i("#lightbox35 .slide:eq("+m+") .slide-frame");c(l,"img");var a=i("#lightbox35 .nav-arrow.nav-arrow-left").height(),s=l.height()-a,r=l.width(),h=s;if(e<r&&o<h)r=e,h=o;else if(e>=o){var d=o*r/e;d<=h?h=d:r=e*h/o}else tmpx=e*h/o,tmpx<=r?r=tmpx:h=o*r/e;i(n).css({width:r,height:h});var g=(l.width()-i(n).outerWidth())/2,f=(s-i(n).outerHeight())/2;i(n).css({left:g,top:f}),i("#lightbox35 .slide:eq("+m+")").fadeIn()}function u(t){if(!(i("#lightbox35 .slide-frame").length<1||k||_<2)){var e,o=-100;if("next"==t?e=g(m+1,_):"prev"==t?(e=g(m-1,_),o-=2*o):m>(e=t)&&(o-=2*o),"fade"===X)i("#lightbox35 .slide:eq("+m+")").fadeOut(),i("#lightbox35 .slide:eq("+e+")").fadeIn(),m=e,r();else{var l=o-2*o;i("#lightbox35 .slide:eq("+m+")").stop().animate({opacity:"hide",left:o},150,function(){i(this).css({left:"0"}),i("#lightbox35 .slide:eq("+e+")").css({left:l+"px"}),i("#lightbox35 .slide:eq("+e+")").animate({opacity:"show",left:0},150),m=e,r()})}}}function v(t,e){k||_<2?i("#lightbox35 .slide-frame").hasClass("cursor_default")||i("#lightbox35 .slide-frame").addClass("cursor_default"):t.pageX-e.offset().left<e.width()/2?(i("#lightbox35 .slide-frame").addClass("cursor_left"),i("#lightbox35 .slide-frame").removeClass("cursor_right")):t.pageX-e.offset().left>e.width()/2?(i("#lightbox35 .slide-frame").addClass("cursor_right"),i("#lightbox35 .slide-frame").removeClass("cursor_left")):(i("#lightbox35 .slide-frame").removeClass("cursor_right"),i("#lightbox35 .slide-frame").removeClass("cursor_left"))}function p(){k?i("#lightbox35").remove():(i("#lightbox35").hide(),$=!1)}var m,_,w=exopite_lightbox35_vars.main_container,y="lightbox35-caption-style-"+exopite_lightbox35_vars.lightbox35_style,q=w,C="a:not(.lightbox35-no-lightbox) img, .lightbox35-lightbox",k=!1,D=exopite_lightbox35_vars.plugin_url,E=1==exopite_lightbox35_vars.single_image_only,H=1==exopite_lightbox35_vars.hide_caption,I=1==exopite_lightbox35_vars.hide_thumbnails,W=1==exopite_lightbox35_vars.hide_open_in_new_window,P=1==exopite_lightbox35_vars.hide_download,$=!1,j=exopite_lightbox35_vars.lang_download,T=exopite_lightbox35_vars.lang_openInNewWindow,X=exopite_lightbox35_vars.animation,M={};M.div=!0,M.title=!0,E&&(k=!0);var O=1==exopite_lightbox35_vars.gallery_mode,z=exopite_lightbox35_vars.gallery_mode_container;i(q).find(C).each(function(){i(this).append('<div class="cover"></div>')}),i(q).find(C).on("click",function(e){t(i(this))&&(e.preventDefault(),l(this))}),i(q).find("a:not(.lightbox35-no-lightbox) figcaption").on("click",function(e){t(i(this).prev("img"))&&(e.preventDefault(),l(i(this).prev("img")))}),i(document.body).on("click","#lightbox35, #lightbox35 .close-thik",function(){p()}),i("body").on("click","#lightbox35 .slide-controls, #lightbox35 .slide-frame",function(t){i("#lightbox35").length<1||t.stopPropagation()}),i("body").on("click","#lightbox35 .nav-right, #lightbox35 .nav-left",function(t){t.stopPropagation(),u(i(this).hasClass("nav-left")?"prev":"next")}),i("body").on("click","#lightbox35 .thumbnail",function(t){if(!(i("#lightbox35").length<1)){t.stopPropagation();var e=i(".thumbnails").find(".thumbnail").index(this);m!=e&&(i("#lightbox35 .thumbnail").removeClass("current"),i(this).addClass("current"),u(e))}}),i("body").on("click","#lightbox35 .lightbox35-open, #lightbox35 .lightbox35-download",function(t){t.stopPropagation();var e="";i(this).hasClass("lightbox35-open")?(e=i('<a href="'+i("#lightbox35 .slide:eq("+m+") .slide-frame img").attr("src")+'">')).attr("target","_blank"):(e=i('<a href="'+D+"/download_image.php?image="+i("#lightbox35 .slide:eq("+m+") .slide-frame img").attr("src")+'">')).attr("target","_media"),window.open(e.attr("href"))}),i(window).resize(function(){$&&r()}),i("body").on("mousemove","#lightbox35 .slide-frame",function(t){$&&v(t,i(this))}),i(document.documentElement).keyup(function(t){27==t.keyCode&&p(),i("#lightbox35").length<1||k||!$||(37==t.keyCode?u("prev"):39==t.keyCode&&u("next"))});var L=!1;i("body").on("mouseenter","#lightbox35 .inner-div",function(){i("#lightbox35 .slide:eq("+m+") .inner-div").prop("scrollHeight")>i("#lightbox35 .slide:eq("+m+") .slide-frame").height()&&(L=!0)}).on("mouseleave","#lightbox35 .inner-div",function(){L=!1}),i(document.documentElement).on("DOMMouseScroll mousewheel",function(t){if(!(i("#lightbox35").length<1||L)&&$)return!k&&(t.preventDefault(),u(t.originalEvent.detail>0||t.originalEvent.wheelDelta<0?"next":"prev"),!1)});var N=function(t){$&&(i(t).swipe("destroy"),i(t).swipe({tap:function(t,e){if(1==t.which){var o=i(this);u(t.pageX-o.offset().left>o.width()/2?"next":"prev")}},swipeLeft:function(i,t,e,o,l){u("next")},swipeRight:function(i,t,e,o,l){u("prev")},threshold:10,excludedElements:"button, input, select, textarea"}))}});
