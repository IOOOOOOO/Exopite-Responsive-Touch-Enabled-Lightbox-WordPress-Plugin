jQuery(document).ready(function(i){var t,e,o=exopite_lightbox35_vars.main_container,l="lightbox35-caption-style-"+exopite_lightbox35_vars.lightbox35_style,n=o,a="a:not(.lightbox35-no-lightbox) img, .lightbox35-lightbox",s=!1,r=exopite_lightbox35_vars.plugin_url,h=1==exopite_lightbox35_vars.single_image_only,g=1==exopite_lightbox35_vars.hide_caption,d=1==exopite_lightbox35_vars.hide_thumbnails,c=1==exopite_lightbox35_vars.hide_open_in_new_window,f=1==exopite_lightbox35_vars.hide_download,b=!1,x=exopite_lightbox35_vars.lang_download,u=exopite_lightbox35_vars.lang_openInNewWindow,v=exopite_lightbox35_vars.animation,p={div:!0,title:!0};h&&(s=!0);var m=1==exopite_lightbox35_vars.gallery_mode,_=exopite_lightbox35_vars.gallery_mode_container;function w(i){if((i.is("img")||i.is("figcaption"))&&k(i.closest("a").attr("href")))return!0}function y(o){m&&(a="."+_),b=!0,i(o).closest("a").hasClass("lightbox35-no-gallery")||i(o).hasClass("lightbox35-no-gallery")||m&&!i(o).hasClass(_)?(i("#lightbox35").length>0&&i("#lightbox35").remove(),h||(s=!0)):h||(s=!1);var l=i(n).find(a).not(".lightbox35-no-gallery").filter(function(t){return w(i(this))}),r=function(t,e){if(w(i(t)))return e.index(t)}(o,l);(e=function(t){var e=0;return t.each(function(t,o){w(i(o))&&e++}),e}(l),d=!!(s||e<2||h),i("#lightbox35").length>0)&&(r+1>i("#lightbox35 .thumbnail").length&&i("#lightbox35").remove(),i(o).closest("a").attr("href")!=i("#lightbox35 .slide:eq("+r+")").find("img").attr("src")&&i("#lightbox35").remove());if(i("#lightbox35").length>0)i("#lightbox35").fadeIn(300);else{var v=c&&f?"":function(){var i='<div class="control-row"><div class="slide-controls">';c||(i+='<span class="lightbox35-open"><i class="fa fa-external-link-square" aria-hidden="true"></i>'+u+"</span>");f||(i+='<span class="lightbox35-download"><i class="fa fa-download" aria-hidden="true"></i>'+x+"</span>");return i+="</div></div>"}(),p='<div id="lightbox35" ><div class="position"></div>'+(s||e<2?"":'<span class="nav-left">&#10094;</span><span class="nav-right">&#10095;</span>')+v+'<div class="thumbnails"></div></div>';i("body").append(p);var y='<div class="slide" style="display:none;">',$='<div class="slide-frame"><a class="close-thik"></a>',D="</div></div>";function E(t,e){if(i(t).is("img")){var o=i(t).closest("a").attr("href"),l=(i(t).attr("title"),i(t).attr("alt"),g?"":q(t)),n="";n=k(o)?o:i(t).attr("src"),i("#lightbox35").append(y+$+'<img src="'+n+'">'+l+D),d||i("#lightbox35 .thumbnails").append('<div class="thumbnail" style="background-image: url('+n+')"></div>')}else{var a='<div class="inner-div">'+i(t).html()+"</div>";i("#lightbox35").append(y+$+a+D);var s=i(t).css("background-color");"rgba(0, 0, 0, 0)"!==s&&"transparent"!==s||(s="#fff"),i("#lightbox35 .inner-div").css("background-color",s),d||i("#lightbox35 .thumbnails").append('<div class="thumbnail thumbnail-div">'+(e+1)+"</div>")}d&&i("#lightbox35 .slide").css("padding-bottom","22px")}s?E(o,0):i(n).find(a).not(".lightbox35-no-gallery").each(function(t){i(this).closest("a").hasClass("lightbox35-no-gallery")&&!i(this).hasClass("lightbox35-no-gallery")||w(i(this))&&E(this,t)}),t=1==e?0:r}!function(e){s||(i("#lightbox35 .slide").hide(),t=e);C(),P(".slide-frame")}(r)}function q(t){var e="",o=i(t).closest("a").find("div.lightbox35-lightbox-caption").html();if(void 0!==o&&!1!==o&&""!==o&&p.div){e='<div class="'+l+'">'+o.replace(/\[url="((?:ftp|https?):\/\/.*?)"(.*?)\](.*?)\[\/url\]/i,'<a href="$1"$2>$3</a>')+"</div>"}else"undefined"!=typeof attrTitle&&!1!==attrTitle&&""!==attrTitle&&p.title&&(e='<div class="'+l+'">'+i(t).attr("title")+"</div>");return e}function C(){i("#lightbox35 .slide:eq("+t+")");i("#lightbox35 .slide:eq("+t+") .inner-div").length?function(){var e=i("#lightbox35 .slide:eq("+t+") .inner-div"),o=i("#lightbox35 .slide:eq("+t+")"),l=i("#lightbox35 .slide:eq("+t+") .slide-frame");if(D(o,"nonimg"),i("#lightbox35 .slide:eq("+t+") .inner-div").css("max-height",o.height()-50+"px"),e.height()<l.height()){var n=(o.width()-i(l).outerWidth())/2,a=(o.height()-i(l).outerHeight())/2;i(l).css({left:n,top:a})}}():function(){var e=new Image;e.src=i("#lightbox35 .slide:eq("+t+") img").attr("src");var o=e.naturalWidth,l=e.naturalHeight;o<1||l<1?i(e).on("load",function(){o=e.naturalWidth,l=e.naturalHeight,E(e,o,l)}):E(e,o,l)}(),d||function(){i("#lightbox35 .thumbnail").removeClass("current");var e=i("#lightbox35 .thumbnail:eq("+t+")"),o=e.offset().left,l=i("#lightbox35 .thumbnails").offset().left-o;i("#lightbox35 .thumbnails").animate({"margin-left":l-25},300),e.addClass("current")}(),!s&&e>1&&i("#lightbox35 .position").text(t+1+" / "+e)}function k(i){return null!=i.match(/\.(jpeg|jpg|gif|png)$/i)}function $(i,t){return i<0?i=t-1:i>t-1&&(i=0),i}function D(e,o){var l=0;i("#wpadminbar").length&&(l+=i("#wpadminbar").height()),"img"==o?(i("#lightbox35 .control-row").show(),c&&f||(i("#lightbox35 .control-row").css("top",l),l+=i("#lightbox35 .control-row").height())):i("#lightbox35 .control-row").hide(),e.css("padding-top",l+10+"px"),i("#lightbox35 .slide:eq("+t+")").show()}function E(e,o,l){var n=i("#lightbox35 .slide:eq("+t+")"),a=i("#lightbox35 .slide:eq("+t+") .slide-frame");D(n,"img");var s=i("#lightbox35 .nav-arrow.nav-arrow-left").height(),r=n.height()-s,h=n.width(),g=r;if(o<h&&l<g)h=o,g=l;else if(o>=l){var d=l*h/o;d<=g?g=d:h=o*g/l}else tmpx=o*g/l,tmpx<=h?h=tmpx:g=l*h/o;i(a).css({width:h,height:g});var c=(n.width()-i(a).outerWidth())/2,f=(r-i(a).outerHeight())/2;i(a).css({left:c,top:f}),i("#lightbox35 .slide:eq("+t+")").fadeIn()}function H(o){if(!(i("#lightbox35 .slide-frame").length<1||s||e<2)){var l,n=-100;if("next"==o?l=$(t+1,e):"prev"==o?(l=$(t-1,e),n-=2*n):t>(l=o)&&(n-=2*n),"fade"===v)i("#lightbox35 .slide:eq("+t+")").fadeOut(),i("#lightbox35 .slide:eq("+l+")").fadeIn(),t=l,C();else{var a=n-2*n;i("#lightbox35 .slide:eq("+t+")").stop().animate({opacity:"hide",left:n},150,function(){i(this).css({left:"0"}),i("#lightbox35 .slide:eq("+l+")").css({left:a+"px"}),i("#lightbox35 .slide:eq("+l+")").animate({opacity:"show",left:0},150),t=l,C()})}}}function I(){s?i("#lightbox35").remove():(i("#lightbox35").hide(),b=!1)}i(n).find(a).each(function(){i(this).append('<div class="cover"></div>')}),i(n).find(a).on("click",function(t){w(i(this))&&(t.preventDefault(),y(this))}),i(n).on("click","a:not(.lightbox35-no-lightbox) figcaption",function(t){if(w(i(this).prev("img")))$img=i(this).prev("img");else{if(!w(i(this).parents("a").find("img")))return;$img=i(this).parents("a").find("img")}t.preventDefault(),y($img)}),i(document.body).on("click","#lightbox35, #lightbox35 .close-thik",function(){I()}),i("body").on("click","#lightbox35 .slide-controls, #lightbox35 .slide-frame",function(t){i("#lightbox35").length<1||t.stopPropagation()}),i("body").on("click","#lightbox35 .nav-right, #lightbox35 .nav-left",function(t){t.stopPropagation(),i(this).hasClass("nav-left")?H("prev"):H("next")}),i("body").on("click","#lightbox35 .thumbnail",function(e){if(!(i("#lightbox35").length<1)){e.stopPropagation();var o=i(".thumbnails").find(".thumbnail").index(this);t!=o&&(i("#lightbox35 .thumbnail").removeClass("current"),i(this).addClass("current"),H(o))}}),i("body").on("click","#lightbox35 .lightbox35-open, #lightbox35 .lightbox35-download",function(e){e.stopPropagation();var o="";i(this).hasClass("lightbox35-open")?(o=i('<a href="'+i("#lightbox35 .slide:eq("+t+") .slide-frame img").attr("src")+'">')).attr("target","_blank"):(o=i('<a href="'+r+"/download_image.php?image="+i("#lightbox35 .slide:eq("+t+") .slide-frame img").attr("src")+'">')).attr("target","_media"),window.open(o.attr("href"))}),i(window).resize(function(){b&&C()}),i("body").on("mousemove","#lightbox35 .slide-frame",function(t){b&&function(t,o){s||e<2?i("#lightbox35 .slide-frame").hasClass("cursor_default")||i("#lightbox35 .slide-frame").addClass("cursor_default"):t.pageX-o.offset().left<o.width()/2?(i("#lightbox35 .slide-frame").addClass("cursor_left"),i("#lightbox35 .slide-frame").removeClass("cursor_right")):t.pageX-o.offset().left>o.width()/2?(i("#lightbox35 .slide-frame").addClass("cursor_right"),i("#lightbox35 .slide-frame").removeClass("cursor_left")):(i("#lightbox35 .slide-frame").removeClass("cursor_right"),i("#lightbox35 .slide-frame").removeClass("cursor_left"))}(t,i(this))}),i(document.documentElement).keyup(function(t){27==t.keyCode&&I(),i("#lightbox35").length<1||s||!b||(37==t.keyCode?H("prev"):39==t.keyCode&&H("next"))});var W=!1;i("body").on("mouseenter","#lightbox35 .inner-div",function(){i("#lightbox35 .slide:eq("+t+") .inner-div").prop("scrollHeight")>i("#lightbox35 .slide:eq("+t+") .slide-frame").height()&&(W=!0)}).on("mouseleave","#lightbox35 .inner-div",function(){W=!1}),i(document.documentElement).on("DOMMouseScroll mousewheel",function(t){if(!(i("#lightbox35").length<1||W)&&b)return!s&&(t.preventDefault(),t.originalEvent.detail>0||t.originalEvent.wheelDelta<0?H("next"):H("prev"),!1)});var P=function(t){b&&(i(t).swipe("destroy"),i(t).swipe({tap:function(t,e){if(1==t.which){var o=i(this);t.pageX-o.offset().left>o.width()/2?H("next"):H("prev")}},swipeLeft:function(i,t,e,o,l){H("next")},swipeRight:function(i,t,e,o,l){H("prev")},threshold:10,excludedElements:"button, input, select, textarea"}))}});