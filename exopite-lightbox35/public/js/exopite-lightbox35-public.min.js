jQuery(document).ready(function(c){var x,d,i=exopite_lightbox35_vars.main_container,g="lightbox35-caption-style-"+exopite_lightbox35_vars.lightbox35_style,b=i,f="a:not(.lightbox35-no-lightbox) img, .lightbox35-lightbox",u=!1,e=exopite_lightbox35_vars.plugin_url,v=1==exopite_lightbox35_vars.single_image_only,p=1==exopite_lightbox35_vars.hide_caption,m=1==exopite_lightbox35_vars.hide_thumbnails,_=1==exopite_lightbox35_vars.hide_open_in_new_window,w=1==exopite_lightbox35_vars.hide_download,y=!1,q=exopite_lightbox35_vars.lang_download,C=exopite_lightbox35_vars.lang_openInNewWindow,l=exopite_lightbox35_vars.animation,k={div:!0,title:!0};v&&(u=!0);var D=1==exopite_lightbox35_vars.gallery_mode,E=exopite_lightbox35_vars.gallery_mode_container;function H(i){return!!i.is("img")&&(!!W(i.closest("a").attr("href"))||void 0)}function t(i){D&&(f="."+E),y=!0,c(i).closest("a").hasClass("lightbox35-no-gallery")||c(i).hasClass("lightbox35-no-gallery")||D&&!c(i).hasClass(E)?(0<c("#lightbox35").length&&c("#lightbox35").remove(),v||(u=!0)):v||(u=!1);var e,t=c(b).find(f).not(".lightbox35-no-gallery").filter(function(i){return H(c(this))}),o=function(i,t){if(H(c(i)))return t.index(i)}(i,t);if(e=0,t.each(function(i,t){H(c(t))&&e++}),d=e,m=!!(u||d<2||v),0<c("#lightbox35").length)c("#lightbox35").fadeIn(300);else{var l=_&&w?"":function(){var i='<div class="control-row"><div class="slide-controls">';_||(i+='<span class="lightbox35-open"><i class="fa fa-external-link-square" aria-hidden="true"></i>'+C+"</span>");w||(i+='<span class="lightbox35-download"><i class="fa fa-download" aria-hidden="true"></i>'+q+"</span>");return i+="</div></div>"}(),n='<div id="lightbox35" ><div class="position"></div>'+(u||d<2?"":'<span class="nav-left">&#10094;</span><span class="nav-right">&#10095;</span>')+l+'<div class="thumbnails"></div></div>';c("body").append(n);var s='<div class="slide" style="display:none;">',h='<div class="slide-frame"><a class="close-thik"></a>',r="</div></div>";function a(i,t){if(c(i).is("img")){var e=c(i).closest("a").attr("href"),o=(c(i).attr("title"),c(i).attr("alt"),p?"":function(i){var t="",e=c(i).closest("a").find("div.lightbox35-lightbox-caption").html();if(void 0!==e&&!1!==e&&""!==e&&k.div){t='<div class="'+g+'">'+e.replace(/\[url="((?:ftp|https?):\/\/.*?)"(.*?)\](.*?)\[\/url\]/i,'<a href="$1"$2>$3</a>')+"</div>"}else"undefined"!=typeof attrTitle&&!1!==attrTitle&&""!==attrTitle&&k.title&&(t='<div class="'+g+'">'+c(i).attr("title")+"</div>");return t}(i)),l="";l=W(e)?e:c(i).attr("src"),c("#lightbox35").append(s+h+'<img src="'+l+'">'+o+r),m||c("#lightbox35 .thumbnails").append('<div class="thumbnail" style="background-image: url('+l+')"></div>')}else{var n='<div class="inner-div">'+c(i).html()+"</div>";c("#lightbox35").append(s+h+n+r);var a=c(i).css("background-color");"rgba(0, 0, 0, 0)"!==a&&"transparent"!==a||(a="#fff"),c("#lightbox35 .inner-div").css("background-color",a),m||c("#lightbox35 .thumbnails").append('<div class="thumbnail thumbnail-div">'+(t+1)+"</div>")}m&&c("#lightbox35 .slide").css("padding-bottom","22px")}u?a(i,0):c(b).find(f).not(".lightbox35-no-gallery").each(function(i){c(this).closest("a").hasClass("lightbox35-no-gallery")&&!c(this).hasClass("lightbox35-no-gallery")||H(c(this))&&a(this,i)}),x=1==d?0:o}!function(i){u||(c("#lightbox35 .slide").hide(),x=i);I(),$(".slide-frame")}(o)}function I(){c("#lightbox35 .slide:eq("+x+")");c("#lightbox35 .slide:eq("+x+") .inner-div").length?function(){var i=c("#lightbox35 .slide:eq("+x+") .inner-div"),t=c("#lightbox35 .slide:eq("+x+")"),e=c("#lightbox35 .slide:eq("+x+") .slide-frame");if(P(t,"nonimg"),c("#lightbox35 .slide:eq("+x+") .inner-div").css("max-height",t.height()-50+"px"),i.height()<e.height()){var o=(t.width()-c(e).outerWidth())/2,l=(t.height()-c(e).outerHeight())/2;c(e).css({left:o,top:l})}}():function(){var i=new Image;i.src=c("#lightbox35 .slide:eq("+x+") img").attr("src");var t=i.naturalWidth,e=i.naturalHeight;t<1||e<1?c(i).on("load",function(){t=i.naturalWidth,e=i.naturalHeight,o(i,t,e)}):o(i,t,e)}(),m||function(){c("#lightbox35 .thumbnail").removeClass("current");var i=c("#lightbox35 .thumbnail:eq("+x+")"),t=i.offset().left,e=c("#lightbox35 .thumbnails").offset().left-t;c("#lightbox35 .thumbnails").animate({"margin-left":e-25},300),i.addClass("current")}(),!u&&1<d&&c("#lightbox35 .position").text(x+1+" / "+d)}function W(i){return null!=i.match(/\.(jpeg|jpg|gif|png)$/i)}function n(i,t){return i<0?i=t-1:t-1<i&&(i=0),i}function P(i,t){var e=0;c("#wpadminbar").length&&(e+=c("#wpadminbar").height()),"img"==t?(c("#lightbox35 .control-row").show(),_&&w||(c("#lightbox35 .control-row").css("top",e),e+=c("#lightbox35 .control-row").height())):c("#lightbox35 .control-row").hide(),i.css("padding-top",e+10+"px"),c("#lightbox35 .slide:eq("+x+")").show()}function o(i,t,e){var o=c("#lightbox35 .slide:eq("+x+")"),l=c("#lightbox35 .slide:eq("+x+") .slide-frame");P(o,"img");var n=c("#lightbox35 .nav-arrow.nav-arrow-left").height(),a=o.height()-n,s=o.width(),h=a;if(t<s&&e<h)s=t,h=e;else if(e<=t){var r=e*s/t;r<=h?h=r:s=t*h/e}else tmpx=t*h/e,tmpx<=s?s=tmpx:h=e*s/t;c(l).css({width:s,height:h});var d=(o.width()-c(l).outerWidth())/2,g=(a-c(l).outerHeight())/2;c(l).css({left:d,top:g}),c("#lightbox35 .slide:eq("+x+")").fadeIn()}function a(i){if(!(c("#lightbox35 .slide-frame").length<1||u||d<2)){var t,e=-100;if("next"==i?t=n(x+1,d):"prev"==i?(t=n(x-1,d),e-=2*e):(t=i)<x&&(e-=2*e),"fade"===l)c("#lightbox35 .slide:eq("+x+")").fadeOut(),c("#lightbox35 .slide:eq("+t+")").fadeIn(),x=t,I();else{var o=e-2*e;c("#lightbox35 .slide:eq("+x+")").stop().animate({opacity:"hide",left:e},150,function(){c(this).css({left:"0"}),c("#lightbox35 .slide:eq("+t+")").css({left:o+"px"}),c("#lightbox35 .slide:eq("+t+")").animate({opacity:"show",left:0},150),x=t,I()})}}}function s(){u?c("#lightbox35").remove():(c("#lightbox35").hide(),y=!1)}c(b).find(f).each(function(){c(this).append('<div class="cover"></div>')}),c(b).find(f).on("click",function(i){H(c(this))&&(i.preventDefault(),t(this))}),c(b).find("a:not(.lightbox35-no-lightbox) figcaption").on("click",function(i){H(c(this).prev("img"))&&(i.preventDefault(),t(c(this).prev("img")))}),c(document.body).on("click","#lightbox35, #lightbox35 .close-thik",function(){s()}),c("body").on("click","#lightbox35 .slide-controls, #lightbox35 .slide-frame",function(i){c("#lightbox35").length<1||i.stopPropagation()}),c("body").on("click","#lightbox35 .nav-right, #lightbox35 .nav-left",function(i){i.stopPropagation(),c(this).hasClass("nav-left")?a("prev"):a("next")}),c("body").on("click","#lightbox35 .thumbnail",function(i){if(!(c("#lightbox35").length<1)){i.stopPropagation();var t=c(".thumbnails").find(".thumbnail").index(this);x!=t&&(c("#lightbox35 .thumbnail").removeClass("current"),c(this).addClass("current"),a(t))}}),c("body").on("click","#lightbox35 .lightbox35-open, #lightbox35 .lightbox35-download",function(i){i.stopPropagation();var t="";c(this).hasClass("lightbox35-open")?(t=c('<a href="'+c("#lightbox35 .slide:eq("+x+") .slide-frame img").attr("src")+'">')).attr("target","_blank"):(t=c('<a href="'+e+"/download_image.php?image="+c("#lightbox35 .slide:eq("+x+") .slide-frame img").attr("src")+'">')).attr("target","_media"),window.open(t.attr("href"))}),c(window).resize(function(){y&&I()}),c("body").on("mousemove","#lightbox35 .slide-frame",function(i){var t,e;y&&(t=i,e=c(this),u||d<2?c("#lightbox35 .slide-frame").hasClass("cursor_default")||c("#lightbox35 .slide-frame").addClass("cursor_default"):t.pageX-e.offset().left<e.width()/2?(c("#lightbox35 .slide-frame").addClass("cursor_left"),c("#lightbox35 .slide-frame").removeClass("cursor_right")):(t.pageX-e.offset().left>e.width()/2?c("#lightbox35 .slide-frame").addClass("cursor_right"):c("#lightbox35 .slide-frame").removeClass("cursor_right"),c("#lightbox35 .slide-frame").removeClass("cursor_left")))}),c(document.documentElement).keyup(function(i){27==i.keyCode&&s(),c("#lightbox35").length<1||u||!y||(37==i.keyCode?a("prev"):39==i.keyCode&&a("next"))});var h=!1;c("body").on("mouseenter","#lightbox35 .inner-div",function(){c("#lightbox35 .slide:eq("+x+") .inner-div").prop("scrollHeight")>c("#lightbox35 .slide:eq("+x+") .slide-frame").height()&&(h=!0)}).on("mouseleave","#lightbox35 .inner-div",function(){h=!1}),c(document.documentElement).on("DOMMouseScroll mousewheel",function(i){if(!(c("#lightbox35").length<1||h)&&y)return u||(i.preventDefault(),0<i.originalEvent.detail||i.originalEvent.wheelDelta<0?a("next"):a("prev")),!1});var $=function(i){y&&(c(i).swipe("destroy"),c(i).swipe({tap:function(i,t){if(1==i.which){var e=c(this);i.pageX-e.offset().left>e.width()/2?a("next"):a("prev")}},swipeLeft:function(i,t,e,o,l){a("next")},swipeRight:function(i,t,e,o,l){a("prev")},threshold:10,excludedElements:"button, input, select, textarea"}))}});